try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="2b2a9b2f-7c21-40ae-b61c-59c02ee2aed1",e._sentryDebugIdIdentifier="sentry-dbid-2b2a9b2f-7c21-40ae-b61c-59c02ee2aed1")}catch(e){}{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{};e._sentryModuleMetadata=e._sentryModuleMetadata||{},e._sentryModuleMetadata[new e.Error().stack]=Object.assign({},e._sentryModuleMetadata[new e.Error().stack],{"_sentryBundlerPluginAppKey:anthropic-apps":!0})}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[47724],{0x26b0b403:(e,t,n)=>{function a(e){return"text"===e.type&&e.text?{...e,text:e.text.replace("​","")}:e.content?{...e,content:e.content.map(a)}:e}n.d(t,{DV:()=>a,Oe:()=>r,h0:()=>o});let r=e=>{let t=new Set,n=e=>{if("codeBlock"===e.type&&t.add("pre"),"bulletList"===e.type&&t.add("ul"),"orderedList"===e.type&&t.add("ol"),"text"===e.type&&e.marks)for(let n of e.marks)t.add(n.type);if(e.content)for(let t of e.content)n(t)};return n(e),Array.from(t).map(e=>"".concat(":").concat(e)).sort().join("")},o=e=>{let t="",n=0,a=function(e){var r,o;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("doc"===e.type&&e.content)for(let t of e.content)a(t);else if("paragraph"===e.type){if(e.content)for(let t of e.content)a(t);t+="\n"}else if("text"===e.type){let n=e.text;if(e.marks)for(let t of e.marks)"bold"===t.type?n="**".concat(n,"**"):"italic"===t.type?n="*".concat(n,"*"):"underline"===t.type?n="__".concat(n,"__"):"strike"===t.type?n="~~".concat(n,"~~"):"code"===t.type&&(n="`".concat(n,"`"));t+=n}else if("codeBlock"===e.type){let n=e.attrs&&"string"==typeof e.attrs.language?e.attrs.language:"";if(t+="\n```".concat(n,"\n"),e.content)for(let t of e.content)a(t);t+="\n```\n\n"}else if("bulletList"===e.type&&e.content)for(let t of e.content)a(t);else if("orderedList"===e.type&&e.content)for(let t=0;t<e.content.length;t++)a(e.content[t],t+1,!0);else if("listItem"===e.type&&e.content){let r="   ".repeat(n);for(let o of(s?t+="".concat(r).concat(i,". "):t+="".concat(r,"* "),e.content))n+=1,a(o),n-=1}else if("mention"===e.type){let n=(null==(r=e.attrs)?void 0:r.label)||"";t+="@".concat(n)}else if("skillChip"===e.type){let n=(null==(o=e.attrs)?void 0:o.skillName)||"";t+="/".concat(n)}};return a(e),t.replace("​","").trim()}},0x57fb2d0b:(e,t,n)=>{n.d(t,{E:()=>d});var a=n(0x16784b660),r=n(0x16db0212f),o=n(0x26b0b403),i=n(0x18e5c6e75);let s={type:"doc",content:[{type:"paragraph",content:[]}]};var l=n(0x733b8fe2),c=n.n(l);let d=e=>{let{conversationId:t="default",enableV2:n=!1,storage:l}=e,d=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return{...((e,t)=>({tipTapEditorState:s,getPrompt:()=>(0,o.h0)(t().tipTapEditorState),setPrompt:function(n){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{forceUpdateTiptap:r=!1,unsafe:o=!1}=a,s=(0,i.P)(n),l={type:"doc",content:[{type:"paragraph",content:s?[{type:"text",text:s}]:[]}]};if(s.length>0&&o&&(l.__ant_unsafe=!0),e({tipTapEditorState:l}),r){var c,d;null==(d=t().promptInputRef)||null==(c=d.current)||c.setContent(s)}return s},setTipTapEditorJSON:n=>{let a=!0===t().tipTapEditorState.__ant_unsafe,r=(0,o.h0)(n);return r.length>0&&a&&(n.__ant_unsafe=!0),e({tipTapEditorState:n}),r},clearPrompt:()=>{e({tipTapEditorState:s})},clearAllInput:()=>{e({tipTapEditorState:s,attachments:[],files:[],syncSourceUuids:[]})}}))(...t),...((e,t)=>({attachments:[],files:[],syncSourceUuids:[],transitionFiles:[],setAttachments:n=>{e({attachments:"function"==typeof n?n(t().attachments):n})},setFiles:n=>{e({files:"function"==typeof n?n(t().files):n})},setSyncSourceUuids:n=>{e({syncSourceUuids:"function"==typeof n?n(t().syncSourceUuids):n})},setTransitionFiles:t=>{e({transitionFiles:t})}}))(...t),...(e=>({model:"",projectUuid:void 0,pendingConversationSettings:{},conversation:void 0,setModel:t=>e({model:t}),setProjectUuid:t=>e({projectUuid:t}),setPendingConversationSettings:t=>e(e=>({pendingConversationSettings:{...e.pendingConversationSettings,...t}})),setConversation:t=>e({conversation:t})}))(...t),...(e=>({previewPrompt:void 0,isModelSelectorOpen:!1,hasBlockingWarning:!1,personalizedStyle:void 0,includeProfilePreferences:!0,currentCompassTask:void 0,setPreviewPrompt:t=>e({previewPrompt:t}),setIsModelSelectorOpen:t=>e({isModelSelectorOpen:t}),setHasBlockingWarning:t=>e({hasBlockingWarning:t}),setPersonalizedStyle:t=>e({personalizedStyle:t}),setIncludeProfilePreferences:t=>e({includeProfilePreferences:t}),setCurrentCompassTask:t=>e({currentCompassTask:t})}))(...t),...(e=>({isUploadingFile:!1,isUploadingDriveSync:!1,isUploadingGithubSync:!1,setIsUploadingFile:t=>e({isUploadingFile:t}),setIsUploadingDriveSync:t=>e({isUploadingDriveSync:t}),setIsUploadingGithubSync:t=>e({isUploadingGithubSync:t})}))(...t),...(e=>({isSending:!1,isImprovingPrompt:!1,setIsSending:t=>e({isSending:t}),setIsImprovingPrompt:t=>e({isImprovingPrompt:t})}))(...t),...(()=>({isAtMaxNumUploads:!1,hasAttachments:!1,isChatSyncing:!1,isProjectSyncing:!1,isNewConversation:!1,isProjectLocked:!1,willRedirectOnSubmit:!1}))(...t),...(()=>({sendMessage:void 0,sendTransparentMessage:void 0,stopSampling:void 0,focusInput:void 0,improvePrompt:void 0,validateMaxUploadLimit:void 0,onDrop:void 0,onPasteFiles:void 0,handleUpload:void 0,uploadInputProps:void 0}))(...t),...(e=>({promptInputRef:void 0,setPromptInputRef:t=>e({promptInputRef:t})}))(...t)}};if(n){let e=function(e){var t,n,a;let r=null!=(a=null==(t=(n=crypto).randomUUID)?void 0:t.call(n))?a:"v2-".concat(Date.now(),"-").concat(Math.random().toString(36).slice(2)),o=c()((t,n)=>{let a=n.state,o=Date.now();if(void 0!==a.tipTapEditorState){let n={value:a.tipTapEditorState||{},tabId:r,timestamp:o};e.setItem("LSS-".concat(t,":textInput"),JSON.stringify(n))}if(void 0!==a.attachments){let n={value:a.attachments||[],tabId:r,timestamp:o};e.setItem("LSS-".concat(t,":attachment"),JSON.stringify(n))}if(void 0!==a.files){let n={value:a.files||[],tabId:r,timestamp:o};e.setItem("LSS-".concat(t,":files"),JSON.stringify(n))}if(void 0!==a.syncSourceUuids){let n={value:a.syncSourceUuids||[],tabId:r,timestamp:o};e.setItem("LSS-".concat(t,":syncSourceUuids"),JSON.stringify(n))}},500,{maxWait:2e3});return{getItem:t=>{try{let n={},a=e.getItem("LSS-".concat(t,":textInput"));if(a){let e=JSON.parse(a);e.value&&"object"==typeof e.value&&"type"in e.value&&(n.tipTapEditorState=e.value)}let r=e.getItem("LSS-".concat(t,":attachment"));if(r){let e=JSON.parse(r);Array.isArray(e.value)&&(n.attachments=e.value)}let o=e.getItem("LSS-".concat(t,":files"));if(o){let e=JSON.parse(o);Array.isArray(e.value)&&(n.files=e.value)}let i=e.getItem("LSS-".concat(t,":syncSourceUuids"));if(i){let e=JSON.parse(i);Array.isArray(e.value)&&(n.syncSourceUuids=e.value)}if(Object.keys(n).length>0)return{state:n,version:0};return null}catch(e){return null}},setItem:(e,t)=>{o(e,t)},removeItem:t=>{o.cancel(),e.removeItem("LSS-".concat(t,":textInput")),e.removeItem("LSS-".concat(t,":attachment")),e.removeItem("LSS-".concat(t,":files")),e.removeItem("LSS-".concat(t,":syncSourceUuids"))},subscribe:e=>t=>{let n=n=>{if(n.storageArea===localStorage&&n.key&&n.key.startsWith("LSS-".concat(e,":"))&&n.newValue)try{JSON.parse(n.newValue).tabId!==r&&t()}catch(e){t()}};return window.addEventListener("storage",n),()=>{window.removeEventListener("storage",n)}},cleanup:()=>{o.cancel()}}}(l),n=(0,r.y)()((0,a.eh)((0,a.Zr)(d,{name:t,storage:e,partialize:e=>({tipTapEditorState:e.tipTapEditorState,attachments:e.attachments,files:e.files,syncSourceUuids:e.syncSourceUuids})}))),o=()=>e.removeItem(t),i=()=>e.cleanup();return e.subscribe?{store:n,unsubscribe:e.subscribe(t)(()=>{}),clearStorage:o,cleanup:i}:{store:n,clearStorage:o,cleanup:i}}return{store:(0,r.y)()((0,a.eh)(d)),clearStorage:()=>void 0}}},0xbebfc702:(e,t,n)=>{n.d(t,{BN:()=>U,CB:()=>h,GQ:()=>T,Gz:()=>L,Kf:()=>x,LQ:()=>k,PL:()=>S,Zd:()=>A,bL:()=>P,bs:()=>_,dx:()=>m,eW:()=>I,fo:()=>w,gM:()=>y,gr:()=>v,kj:()=>D,mu:()=>M,my:()=>z,nl:()=>F,sC:()=>g,sS:()=>C,tz:()=>Q,u7:()=>b,xQ:()=>E});var a=n(0x628a9a0b),r=n(0x12c9046cd),o=n(0x14de19ae8),i=n(0x139b5e710),s=n(0x1016c6ed2),l=n(0x49fac030),c=n(0xac309a83),d=n(0x17e725145),u=n(0xfc89b4a4),p=n(0x1ab0d1ca1),f=n(0xd5e0c33c);let g=30,m=1e4;var y=function(e){return e.Student="student",e.Meeting="meeting",e.Haystack="haystack",e}({}),v=function(e){return e.Study="study",e.Career="career",e.Research="research",e.Zoom="zoom",e.Teams="teams",e.GoogleMeet="google_meet",e}({});let S=()=>{let{activeOrganization:e}=(0,o.YL)(),t=null==e?void 0:e.uuid;return(0,r.Sk)("/api/organizations/".concat(t,"/projects/count"),{queryKey:[l.Wy,{orgUuid:t}],staleTime:3e5,enabled:!!t,meta:{noToast:e=>e instanceof s.LG&&"permission_error"===e.type}})},h=e=>{let{enabled:t=!0,limit:n,offset:a,starred:i,creatorFilter:s,projectFilter:c,orderBy:d,type:u}=e,{activeOrganization:g}=(0,o.YL)(),m=(0,f.K)(),y=null==g?void 0:g.uuid,v=(0,p.A)(),S=new URLSearchParams;return S.append("include_harmony_projects","true"),void 0!==n&&S.append("limit",n.toString()),void 0!==a&&S.append("offset",a.toString()),void 0!==i&&S.append("starred",i.toString()),void 0!==s&&S.append("creator_filter",s.toString()),void 0!==c&&S.append("filter",c.toString()),void 0!==d&&S.append("order_by",d.toString()),void 0!==u&&S.append("type",u.toString()),(0,r.Sk)("/api/organizations/".concat(y,"/projects?").concat(S.toString()),{queryKey:[l.BP,{orgUuid:y},{limit:n,offset:a,starred:i,creatorFilter:s,projectFilter:c,orderBy:d,type:u}],enabled:!!(t&&g&&m),select:e=>{let t=e.length===n;return Object.assign(e.filter(e=>!e.archived_at).map(e=>"haystack"===e.type?{...e,unformattedName:e.name,name:v.formatMessage({defaultMessage:"Ask {name}",id:"bH47Z4hSE8"},{name:e.name})}:e),{hasMore:t})}})},b=e=>{let{enabled:t=!0,limit:n=g,offset:a=0,starred:i,creatorFilter:s,projectFilter:c,orderBy:d,searchQuery:u,isArchived:p}=e,{activeOrganization:m}=(0,o.YL)(),y=(0,f.K)(),v=null==m?void 0:m.uuid,S=new URLSearchParams;return S.append("limit",n.toString()),S.append("offset",a.toString()),void 0!==i&&S.append("starred",i.toString()),void 0!==s&&S.append("creator_filter",s.toString()),void 0!==c&&S.append("filter",c.toString()),void 0!==d&&S.append("order_by",d.toString()),void 0!==u&&S.append("searchQuery",u.toString()),void 0!==p&&S.append("is_archived",p.toString()),(0,r.Sk)("/api/organizations/".concat(v,"/projects_v2?").concat(S.toString()),{queryKey:[l.Wf,{orgUuid:v},{limit:n,offset:a,starred:i,creatorFilter:s,projectFilter:c,orderBy:d,searchQuery:u,isArchived:p}],enabled:!!(t&&m&&y)})},x=()=>{let{activeOrganization:e}=(0,o.YL)(),t=(0,r.mn)();return(0,u.useCallback)(async()=>(await t("/api/organizations/".concat(null==e?void 0:e.uuid,"/projects"))).json(),[null==e?void 0:e.uuid,t])},_=()=>{let e=x(),t=(0,a.uE)();return(0,u.useCallback)(async()=>{let[n,r]=await Promise.all([e(),t({limit:a.dy})]);return((e,t)=>{let n=e.map(e=>({...e,lastConversation:null==t?void 0:t.find(t=>t.project_uuid===e.uuid)})).filter(e=>e.lastConversation).sort((e,t)=>new Date(t.lastConversation.created_at).getTime()-new Date(e.lastConversation.created_at).getTime()),a=null==e?void 0:e.filter(e=>!n.find(t=>t.uuid===e.uuid));return[...n,...a]})(n,r)},[t,e])},w=e=>{let{activeOrganization:t}=(0,o.YL)(),n=null==t?void 0:t.uuid,a=(0,p.A)();return(0,r.Sk)("/api/organizations/".concat(n,"/projects/").concat(e),{queryKey:[l.hc,{orgUuid:n,projectUuid:e}],enabled:!!(t&&e),staleTime:0,meta:{noToast:e=>e instanceof s.LG&&(404===e.statusCode||403===e.statusCode)},select:e=>"haystack"===e.type?{...e,unformattedName:e.name,name:a.formatMessage({defaultMessage:"Ask {name}",id:"bH47Z4hSE8"},{name:e.name})}:e})},j=()=>{let{activeOrganization:e}=(0,o.YL)(),t=null==e?void 0:e.uuid,n=(0,d.useQueryClient)();return{addProject:e=>{n.setQueriesData({queryKey:[l.Wf,{orgUuid:t}]},t=>t?{...t,data:[e,...t.data],pagination:{...t.pagination,total:t.pagination.total+1}}:t),n.setQueriesData({queryKey:[l.BP,{orgUuid:t}]},t=>t?[e,...t]:t),n.setQueriesData({queryKey:[l.Wy,{orgUuid:t}]},e=>e?{count:e.count+1}:e)},removeProject:e=>{n.setQueriesData({queryKey:[l.Wf,{orgUuid:t}]},t=>t?{...t,data:t.data.filter(t=>t.uuid!==e),pagination:{...t.pagination,total:Math.max(0,t.pagination.total-1)}}:t),n.setQueriesData({queryKey:[l.BP,{orgUuid:t}]},t=>t?t.filter(t=>t.uuid!==e):t),n.setQueriesData({queryKey:[l.Wy,{orgUuid:t}]},e=>e?{count:Math.max(0,e.count-1)}:e)}}},P=()=>{let{activeOrganization:e}=(0,o.YL)(),t=null==e?void 0:e.uuid,n=L(),{addProject:a}=j();return(0,r.L2)(()=>"/api/organizations/".concat(t,"/projects"),"POST",{onSuccess:e=>{a(e),n()}})},C=e=>{let{activeOrganization:t}=(0,o.YL)(),n=null==t?void 0:t.uuid,a=L();return(0,r.Qv)(()=>"/api/organizations/".concat(n,"/projects/").concat(e),"PUT",(e,t)=>t?{...t,...e}:void 0,{onSuccess:()=>{a(e)},queryKey:[l.hc,{orgUuid:n,projectUuid:e}]})},I=e=>{let{activeOrganization:t}=(0,o.YL)(),n=null==t?void 0:t.uuid,a=L(),{removeProject:i}=j();return(0,r.L2)(()=>"/api/organizations/".concat(n,"/projects/").concat(e),"DELETE",{onSuccess:()=>{i(e),a(e,{remove:!0})}})},k=function(e){let{limit:t=30,offset:n=0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{activeOrganization:a}=(0,o.YL)(),i=null==a?void 0:a.uuid,c=new URLSearchParams;return c.append("limit",t.toString()),c.append("offset",n.toString()),(0,r.Sk)("/api/organizations/".concat(i,"/projects/").concat(e,"/conversations_v2?").concat(c.toString()),{queryKey:[l.yF,{orgUuid:i,projectUuid:e,limit:t,offset:n}],enabled:!!a,staleTime:0,meta:{noToast:e=>e instanceof s.LG&&403===e.statusCode}})},U=()=>{var e,t;let n=h({enabled:!0,creatorFilter:"is_creator",limit:m}),a=null==(t=n.data)||null==(e=t.find(e=>e.is_starter_project))?void 0:e.uuid;return{...n,data:a}},L=()=>{let{activeOrganization:e}=(0,o.YL)(),t=null==e?void 0:e.uuid,n=(0,d.useQueryClient)();return(e,a)=>{let{remove:r=!1}=a||{};if([[l.BP,{orgUuid:t}],[l.Wf,{orgUuid:t}],[l.Wy,{orgUuid:t}]].forEach(e=>void n.invalidateQueries({queryKey:e})),e){let a=r?"removeQueries":"invalidateQueries";[[l.hc,{orgUuid:t,projectUuid:e}],[l.yF,{orgUuid:t,projectUuid:e}],[l.vE,{projectUuid:e}]].forEach(e=>void n[a]({queryKey:e}))}}},T=(e,t)=>{let n=L();return(0,r.L2)("/api/organizations/".concat(e,"/projects/").concat(t,"/report"),"POST",{enabled:!!t&&!!e,onSuccess:()=>{n(t)}})},E=e=>{let{activeOrganization:t}=(0,o.YL)(),n=null==t?void 0:t.uuid,a=(0,c.fS)("claude_ai_sticky_project_settings");return(0,r.Sk)("/api/organizations/".concat(n,"/projects/").concat(e,"/settings"),{queryKey:[l.vX,{orgUuid:n,projectUuid:e}],enabled:!!(t&&e&&a)})},M=e=>{let{activeOrganization:t}=(0,o.YL)(),n=null==t?void 0:t.uuid,a=(0,c.fS)("claude_ai_sticky_project_settings");return(0,r.Qv)(()=>"/api/organizations/".concat(n,"/projects/").concat(e,"/settings"),"PUT",(e,t)=>t?{...t,...e}:void 0,{queryKey:[l.vX,{orgUuid:n,projectUuid:e}],enabled:!!(t&&e&&a)})},z=()=>{let{activeOrganization:e}=(0,o.YL)(),t=null==e?void 0:e.uuid,n=(0,d.useQueryClient)();return(0,r.L2)(e=>"/api/organizations/".concat(t,"/projects/").concat(e.projectUuid,"/sync"),"POST",{meta:{noToast:!0},onSuccess:(e,a)=>{"done"===e.kb_resync_status&&a.projectUuid&&n.invalidateQueries({queryKey:[l.qz,{orgUuid:t,projectUuid:a.projectUuid}]}),a.projectUuid&&e.gdrive_resource_backfill_triggered&&n.invalidateQueries({queryKey:[l.LV,{orgUuid:t,projectUuid:a.projectUuid}]})}})},D=()=>(0,c.fS)("claudeai_sync_project"),A=()=>{let{mutateAsync:e}=(0,a.x6)();return{moveToProject:(0,u.useCallback)(async function(t,n){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{batchSize:r=20,batchDelayMs:o=500}=a;if(!t.length||!n)return Promise.resolve({totalMoved:0,totalFailed:0,conversationUuids:[],projectUuid:""});let i=t.length>1,s=0,l=0;if(i){let a=Math.ceil(t.length/r);for(let i=0;i<a;i++){let c=i*r,d=t.slice(c,c+r),u=await e({conversation_uuids:d,project_uuid:n});s+=u.moved.length,l+=u.failed.length,i<a-1&&await new Promise(e=>setTimeout(e,o))}}else{let a=await e({conversation_uuids:t,project_uuid:n});s=a.moved.length,l=a.failed.length}return{totalMoved:s,totalFailed:l,conversationUuids:t,projectUuid:n}},[e])}},F=()=>{let{mutateAsync:e}=(0,a.x6)(),{addSuccess:t,addError:n}=(0,i.Yf)(),r=(0,p.A)(),s=(0,d.useQueryClient)(),{activeOrganization:c}=(0,o.YL)(),f=null==c?void 0:c.uuid,[g,m]=(0,u.useState)(new Set),y=(0,u.useCallback)(async function(o){let{showSuccess:i=!0,showError:c=!0,onSuccess:d}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!o.length)return Promise.resolve({moved:[],failed:[]});if(o.some(e=>g.has(e)))return Promise.resolve({moved:[],failed:o});m(e=>{let t=new Set(e);return o.forEach(e=>t.add(e)),t}),o.forEach(e=>{let t=[l.fC,{orgUuid:f},{uuid:e},{returnDanglingHumanMessage:!1}];s.getQueryData(t)&&s.setQueryData(t,e=>e?{...e,project_uuid:void 0}:e)});try{let n=await e({conversation_uuids:o,project_uuid:null});return n.moved.length>0&&i&&t(r.formatMessage({defaultMessage:"Chat removed from project",id:"UkGfrdMZdS"})),null==d||d(n),await (0,a.C4)(s,f,o),n}catch(e){throw await (0,a.C4)(s,f,o),c&&n(r.formatMessage({defaultMessage:"Failed to remove chat from project",id:"4suoYkIuEm"}),{error:e,messageForLogging:"Failed to remove chat from project"}),e}finally{m(e=>{let t=new Set(e);return o.forEach(e=>t.delete(e)),t})}},[e,t,n,r,g,s,f]),v=(0,u.useCallback)(e=>g.has(e),[g]);return{removeFromProject:y,isRemoving:g.size>0,isRemovingConversation:v}},Q=e=>{let{activeOrganization:t}=(0,o.YL)(),n=null==t?void 0:t.uuid;return(0,r.Sk)("/api/organizations/".concat(n,"/projects/").concat(e,"/permissions"),{queryKey:[l._P,{orgUuid:n,projectUuid:e}],enabled:!!(t&&e)})}},0xd5e0c33c:(e,t,n)=>{n.d(t,{K:()=>o,p:()=>i});var a=n(0x14de19ae8),r=n(0x78b33fbd);let o=()=>{let e=(0,a.O9)(),t=(0,a.zc)(),n=(0,a.mV)(),o=(0,r.useDynamicConfig)("claude_ai_projects_limits").get("max_free_projects",0)>0,i=(0,r.useLayer)("trials_freemium").get("free_project",!1);return o||e||t||n||i},i=()=>{let e=(0,a.O9)(),t=(0,a.zc)(),n=(0,a.mV)(),o=(0,r.useDynamicConfig)("claude_ai_projects_limits"),i=(0,r.useLayer)("trials_freemium");if(e||t||n)return;let s=o.get("max_free_projects",0);return s>0?s:+!!i.get("free_project",!1)}},0xefe6388f:(e,t,n)=>{n.d(t,{d:()=>l});var a=n(0x19405b970);n(0x9845e38c);var r=n(0x253a5c787),o=n(0xfc89b4a4),i=n(0xf32c56dd);let s=new Set(["shrew","pipit"]);function l(e){let{track:t}=(0,i.st)(),n=(0,o.useRef)(t);(0,o.useEffect)(()=>{n.current=t},[t]);let l=(0,a.ul)(),c=(0,o.useCallback)((t,a)=>{(0,n.current)({event_key:"claudeai.storage.error",operation:"setItem",source:e,key:t,error_name:a.name}),(0,r.Cp)(a,{tags:{source:e},extra:{key:t,operation:"setItem"},level:"warning"})},[e]);return(0,o.useMemo)(()=>(function(e){let{storage:t,onError:n,shouldThrow:a=()=>!0}=e;return new Proxy(t,{get(e,t,r){if("setItem"===t)return function(t,r){try{e.setItem(t,r)}catch(e){if(n(t,e),a(t,e))throw e}};let o=Reflect.get(e,t,e);return"function"==typeof o?o.bind(e):o}})})({storage:l,onError:c,shouldThrow:()=>!s.has(e)}),[c,e,l])}},0x18e5c6e75:(e,t,n)=>{function a(e){let t=e,n="",a=0;for(;t!==n&&a<10;)n=t,t=(t=(t=(t=t.normalize("NFKC")).replace(RegExp("[\\p{Cf}\\p{Co}\\p{Cn}]","gu"),"")).replace(RegExp("[\\p{Cc}]","gu"),e=>"\n"===e||"	"===e||"\r"===e?e:"")).replace(/[\u200B-\u200F]/g,"").replace(/[\u202A-\u202E]/g,"").replace(/[\u2066-\u2069]/g,"").replace(/[\uFEFF]/g,"").replace(/[\uE000-\uF8FF]/g,""),a++;if(a>=10)throw Error("Unicode sanitization reached maximum iterations (".concat(10,") for input: ").concat(e.slice(0,100)));return t}n.d(t,{M:()=>function e(t){if("string"==typeof t)return a(t);if(Array.isArray(t))return t.map(e);if(null!==t&&"object"==typeof t){let n={};for(let[a,r]of Object.entries(t))n[e(a)]=e(r);return n}return t},P:()=>a})},0x19405b970:(e,t,n)=>{n.d(t,{ul:()=>i});let a={};class r{clear(){}getItem(e){return null}key(e){return null}removeItem(e){}setItem(e,t){}constructor(){this.length=0}}let o=new r,i=()=>(()=>{if(!window.localStorage)return!1;if(void 0===a.localStorageSupported){let e=!!("localStorage"in window&&window.localStorage);if(e)try{localStorage.setItem("test.localStorageSupported","true")}catch(t){e=!1}a.localStorageSupported=e}return a.localStorageSupported})()?window.localStorage:o},0x1c12b3087:(e,t,n)=>{n.d(t,{BN:()=>u,EL:()=>_,Fj:()=>S,Jy:()=>p,N3:()=>m,QN:()=>x,QT:()=>g,RK:()=>P,TQ:()=>j,Tc:()=>h,aJ:()=>C,aQ:()=>y,fT:()=>w,jM:()=>f,jw:()=>v,lE:()=>b});var a=n(0xefe6388f);n(0x9845e38c);var r=n(0xfc89b4a4),o=n(0x394ef833),i=n(0x107838ca5),s=n(0x57fb2d0b);let l=r.createContext(null),c=null;function d(e,t){let n=r.useContext(l),d=(0,a.d)("bushy"),u=n||(c||({store:c}=(0,s.E)({storage:d})),c);return(0,o.P)(u,(0,i.k)(e))}function u(){let e=r.useContext(l);if(!e)throw Error("ChatInputStore not found. Make sure ChatInputProvider wraps your component.");return e}function p(e){let t=u();return(0,o.P)(t,(0,i.k)(e))}let f=l.Provider,g=()=>p(e=>(e=>{let t=e.tipTapEditorState;return{prompt:e.getPrompt(),tipTapEditorState:t,isPromptUnsafe:"__ant_unsafe"in t&&!!t.__ant_unsafe}})(e)),m=()=>p(e=>!e.getPrompt().trim()),y=()=>p(e=>!!e.getPrompt().trim()||e.isSending),v=()=>{let e=r.useContext(l),t=d(e=>e.conversation,"useChatInputConversationOnly");return e?t:void 0},S=()=>d(e=>({pendingConversationSettings:e.pendingConversationSettings,setPendingConversationSettings:e.setPendingConversationSettings}),"useChatInputPendingConversationSettings");function h(e,t){return d(e,t)}let b=()=>d(e=>({syncSourceUuids:e.syncSourceUuids,setSyncSourceUuids:e.setSyncSourceUuids,projectUuid:e.projectUuid,conversation:e.conversation}),"useChatInputSync"),x=()=>d(e=>e.projectUuid,"useChatInputProjectUuid"),_=()=>d(e=>e.setProjectUuid,"useChatInputSetProjectUuid"),w=()=>d(e=>({isUploadingDrive:e.isUploadingDriveSync,setIsUploadingDriveSync:e.setIsUploadingDriveSync}),"useChatInputUploadDrive"),j=()=>d(e=>({model:e.model,setModel:e.setModel}),"useChatInputModel"),P=()=>d(e=>({personalizedStyle:e.personalizedStyle,setPersonalizedStyle:e.setPersonalizedStyle}),"useChatInputPersonalizedStyle"),C=()=>d(e=>({getPrompt:e.getPrompt,setPrompt:e.setPrompt,focusInput:e.focusInput}),"useChatInputPrefill")},0x1cf5ab98a:(e,t,n)=>{n.d(t,{$:()=>g});var a=n(0x22102fd88),r=n(0x1474caf99),o=n(0xa0c99a98),i=n(0x1a1f6dda6),s=n(0xfc89b4a4),l=n(0x78375882),c=n(0x18744ed86),d=n(0xb3796c53),u=n(0x106b80c3d),p=n.n(u);let f=(0,o.F)("inline-flex\n  items-center\n  justify-center\n  relative\n  shrink-0\n  can-focus\n  select-none\n  disabled:pointer-events-none\n  disabled:opacity-50\n  disabled:shadow-none\n  disabled:drop-shadow-none",{variants:{variant:{primary:"font-base-bold\n        relative\n        overflow-hidden\n        transition-transform\n        will-change-transform\n        ease-[cubic-bezier(0.165,0.85,0.45,1)]\n        duration-150\n        hover:scale-y-[1.015]\n        hover:scale-x-[1.005]\n        backface-hidden\n        after:absolute\n        after:inset-0\n        after:bg-[radial-gradient(at_bottom,hsla(var(--bg-000)/20%),hsla(var(--bg-000)/0%))]\n        after:opacity-0\n        after:transition\n        after:duration-200\n        after:translate-y-2\n        hover:after:opacity-100\n        hover:after:translate-y-0",claude:"font-base-bold\n          transition-colors",secondary:"font-base-bold\n          border-0.5\n          relative\n          overflow-hidden\n          transition\n          duration-100\n          backface-hidden",ghost:"border-transparent\n          transition\n          font-base\n          duration-300\n          ease-[cubic-bezier(0.165,0.85,0.45,1)]",danger:"font-base-bold\n          transition\n          hover:scale-y-[1.015]\n          hover:scale-x-[1.005]\n          hover:opacity-95"},size:{default:"h-9 px-4 py-2 rounded-lg min-w-[5rem] active:scale-[0.985] whitespace-nowrap",sm:"h-8 rounded-md px-3 min-w-[4rem] active:scale-[0.985] whitespace-nowrap !text-xs",lg:"h-11 rounded-[0.6rem] px-5 min-w-[6rem] active:scale-[0.985] whitespace-nowrap !text-base",icon:"h-9 w-9 rounded-md active:scale-95 shrink-0",icon_xs:"h-6 w-6 rounded-md active:scale-95",icon_sm:"h-8 w-8 rounded-md active:scale-95",icon_lg:"h-11 w-11 rounded-[0.6rem] active:scale-95"},option:{rounded:"!rounded-full",prepend:"",append:""}},compoundVariants:[{size:"default",option:"prepend",class:"pl-2 pr-3 gap-1"},{size:"lg",option:"prepend",class:"pl-2.5 pr-3.5 gap-1"},{size:"sm",option:"prepend",class:" pl-2 pr-2.5 gap-1"},{size:"default",option:"append",class:"pl-3 pr-2 gap-1"},{size:"lg",option:"append",class:"pl-3.5 pr-2.5 gap-1"},{size:"sm",option:"append",class:"pl-2.5 pr-2 gap-1"}],defaultVariants:{variant:"primary",size:"default"}}),g=(0,s.forwardRef)((e,t)=>{let{className:n,variant:o="primary",size:u,option:g,loading:m,href:y,onLinkClick:v,target:S,webBehavior:h,desktopBehavior:b,prepend:x,append:_,disabled:w,children:j,type:P="button",tooltip:C,tooltipSide:I="bottom",tooltipDelay:k,tooltipDisabled:U,tooltipHoverable:L=!1,shortcut:T,colorized:E,...M}=e;x&&(g="prepend"),(_||T)&&(g="append");let z="primary"===o||"secondary"===o||"ghost"===o,D=E&&z,A=!j||u&&u.startsWith("icon"),F=!M["aria-label"]&&C&&A?function(e){if(e){if("string"==typeof e)return e;if("number"==typeof e)return String(e);if((0,s.isValidElement)(e)){let t=e.props;if(t.defaultMessage&&"string"==typeof t.defaultMessage){if(t.values)return;return t.defaultMessage}if(t.children&&"string"==typeof t.children)return t.children}}}(C):void 0,Q=(0,i.A)(f({variant:o,size:u,option:g,className:n}),(()=>{switch(o){case"primary":default:return p().primary;case"secondary":return p().secondary;case"ghost":return p().ghost;case"danger":return p().danger;case"claude":return p().claude}})(),D&&p().colorized,m&&"!text-transparent ![text-shadow:_none]"),N=(0,a.jsxs)(a.Fragment,{children:[m&&(0,a.jsx)("div",{className:(0,i.A)("absolute inset-0 flex items-center justify-center",p().loadingSpinner),children:(0,a.jsx)(l.Loading,{size:"sm",inheritColor:!0,delay:0})}),x,j,_,T&&(0,a.jsx)(c.ShortcutDisplay,{className:"ml-1",onDark:!D&&(!o||"claude"===o||"danger"===o||"primary"===o),small:!0,shortcut:T})]}),O=y?(0,a.jsx)(r.DesktopSafeLink,{href:y,ref:t,webBehavior:h,desktopBehavior:b,..."_blank"===S&&{webBehavior:"new-tab",desktopBehavior:"open-in-browser"},className:Q,"aria-label":M["aria-label"]||F,...M,onClick:v,children:N}):(0,a.jsx)("button",{className:Q,ref:t,disabled:w||m,type:P,...M,"aria-label":M["aria-label"]||F,children:N});return C&&!U?(0,a.jsx)(d.Tooltip,{tooltipContent:C,side:I,delayDuration:k,disableHoverableContent:!L,children:(0,a.jsx)("div",{className:"w-fit",children:O})}):O});g.displayName="Button"},0x2252bfeb8:(e,t,n)=>{var a,r,o,i,s,l,c,d;n.d(t,{Fd:()=>m,TQ:()=>g,W$:()=>v,YQ:()=>p,a8:()=>f,lX:()=>S,oO:()=>u,un:()=>y});let u=null==(a=globalThis["claude.settings"])?void 0:a.AppConfig,p=null==(r=globalThis["claude.settings"])?void 0:r.Startup,f=null==(o=globalThis["claude.settings"])?void 0:o.GlobalShortcut,g=null==(i=globalThis["claude.settings"])?void 0:i.MCP,m=null==(s=globalThis["claude.settings"])?void 0:s.Extensions,y=null==(l=globalThis["claude.settings"])?void 0:l.FilePickers,v=null==(c=globalThis["claude.settings"])?void 0:c.AppPreferences,S=null==(d=globalThis["claude.settings"])?void 0:d.AppFeatures}}]);